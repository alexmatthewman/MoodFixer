@model Question

<div class="question-card" data-question-id="@Model.ID">
    @if (!string.IsNullOrEmpty(Model.QuestionText))
    {
        <h2 class="question-heading">@Model.QuestionText</h2>
    }

    <div class="question-content">
        <p class="question-text">@Model.MainText</p>

        @if (!string.IsNullOrEmpty(Model.Image))
        {
            <div class="question-image">
                <img src="~/images/QuestionImages/@Model.Image" alt="Question illustration" class="img-fluid" />
            </div>
        }
    </div>

    <!-- Hidden input as backup for question ID -->
    <input type="hidden" name="questionId" value="@Model.ID" />

    <div class="answer-options">
        @if (!string.IsNullOrEmpty(Model.Option1))
        {
            <button type="button"
                    class="answer-option btn"
                    onclick="selectAnswer('@Html.Raw(Html.Encode(Model.Option1))', this)">
                @Model.Option1
            </button>
        }

        @if (!string.IsNullOrEmpty(Model.Option2))
        {
            <button type="button"
                    class="answer-option btn"
                    onclick="selectAnswer('@Html.Raw(Html.Encode(Model.Option2))', this)">
                @Model.Option2
            </button>
        }

        @if (!string.IsNullOrEmpty(Model.Option3))
        {
            <button type="button"
                    class="answer-option btn"
                    onclick="selectAnswer('@Html.Raw(Html.Encode(Model.Option3))', this)">
                @Model.Option3
            </button>
        }

        @if (!string.IsNullOrEmpty(Model.Option4))
        {
            <button type="button"
                    class="answer-option btn"
                    onclick="selectAnswer('@Html.Raw(Html.Encode(Model.Option4))', this)">
                @Model.Option4
            </button>
        }

        @if (!string.IsNullOrEmpty(Model.Option5))
        {
            <button type="button"
                    class="answer-option btn"
                    onclick="selectAnswer('@Html.Raw(Html.Encode(Model.Option5))', this)">
                @Model.Option5
            </button>
        }
    </div>
</div>

<script>
    // Update the current question ID when partial loads
    console.log('Setting question ID to:', @Model.ID);
    window.currentQuestionId = @Model.ID;
    $('#question-container').data('question-id', @Model.ID);
</script>